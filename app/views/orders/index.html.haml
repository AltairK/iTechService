= auto_header_tag

.table_filter.navbar.container
  .navbar-inner
    = form_tag orders_path, method: 'get', id: 'search_form', class: 'navbar-search form-search', remote: true do

      = hidden_field_tag :object_kind, params[:object_kind]
      = hidden_field_tag :status, params[:status]

      .input-append
        = text_field_tag :order_number, params[:order_number], id: 'search_order_input', class: 'search-query input-small', placeholder: t('orders.index.search_number_placeholder')
        %span.add-on.btn.clear_search_input
          %i.icon-remove

      .input-append
        = text_field_tag :customer, params[:customer], id: 'search_customer_input', class: 'search-query input-medium', placeholder: t('orders.index.search_customer_placeholder')
        %span.add-on.btn.clear_search_input
          %i.icon-remove

      .input-append
        = text_field_tag :object, params[:object], id: 'search_object_input', class: 'search-query input-medium', placeholder: t('orders.index.search_object_placeholder')
        %span.add-on.btn.clear_search_input
          %i.icon-remove

      .input-append
        = text_field_tag :user, params[:user], id: 'search_user_input', class: 'search-query input-medium', placeholder: t('orders.index.search_user_placeholder')
        %span.add-on.btn.clear_search_input
          %i.icon-remove

    %ul.nav
      %li.dropdown
        = link_to '#', class: 'dropdown-toggle', 'data-toggle' => 'dropdown' do
          = t "orders.object_kinds.#{params[:object_kind] || 'all_kinds'}"
          %b.caret
        %ul.dropdown-menu
          %li= link_to t("orders.object_kinds.all_kinds"), orders_path#, remote: true
          - Order::OBJECT_KINDS.each do |object_type|
            %li= link_to t("orders.object_kinds.#{object_type}"), orders_path(object_kind: object_type)#, remote: true
            -#%li= link_to t("orders.object_kinds.#{object_type}"), orders_path(params.update(object_kind: object_type))

    %ul.nav
      %li.dropdown
        = link_to '#', class: 'dropdown-toggle', 'data-toggle' => 'dropdown' do
          = t "orders.statuses.#{params[:status] || 'all_statuses'}"
          %b.caret
        %ul.dropdown-menu
          %li= link_to t("orders.statuses.all_statuses"), orders_path#, remote: true
          - Order::STATUSES.each do |status|
            %li= link_to t("orders.statuses.#{status}"), orders_path(status: status)#, remote: true

#resource_table= render 'table'
